functions:
  get-users:
    handler: handlers/usersHandlers.getUsers
    events:
      - httpApi:
          path: /users
          method: get
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  get-users-by-id:
    handler: handlers/usersHandlers.getUserById
    events:
      - httpApi:
          path: /users/{id}
          method: get
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  create-user:
    handler: handlers/usersHandlers.createUser
    events:
      - httpApi:
          path: /users
          method: post
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  update-user:
    handler: handlers/usersHandlers.updateUser
    events:
      - httpApi:
          path: /users/{id}
          method: put
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  delete-user:
    handler: handlers/usersHandlers.deleteUser
    events:
      - httpApi:
          path: /users/{id}
          method: delete
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  activate-user:
    handler: handlers/usersHandlers.activateUser
    events:
      - httpApi:
          path: /users/{id}/activate
          method: post
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}

  deactivate-user:
    handler: handlers/usersHandlers.deactivateUser
    events:
      - httpApi:
          path: /users/{id}/deactivate
          method: post
          authorizer:
            type: jwt
            id: ${cf:core-service-${self:provider.stage}.EsenciaAuthorizerId}
